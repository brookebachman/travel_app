var Client=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw new Error("unable to locate global object")}();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response},function(e,t,n){"use strict";n.r(t),n.d(t,"fetchCoordinates",(function(){return o})),n.d(t,"fetchWeatherDataCurrent",(function(){return f})),n.d(t,"fetchWeatherDataWeek",(function(){return h})),n.d(t,"changeDate",(function(){return i})),n.d(t,"changeTime",(function(){return c})),n.d(t,"updateFrontend",(function(){return u})),n.d(t,"fetchVacationPhoto",(function(){return g}));const o=async(e,t,n)=>{e.preventDefault(),console.log("fetch coords running");const o=t||document.getElementById("zipcode").value,i=n||r(),c=n||a();await fetch("http://localhost:8081/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({zipcode:o,date:i,end:c,country:"US"})}).then(e=>e.json()).then(e=>{const t=e.postalCodes[0];let n=new Date,o=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),c=n.getFullYear();n=i+"/"+o+"/"+c;let l=n.split("/")[1];!function(e,t,n,o,r){console.log("find out how far away");let a=Math.abs(e[1]-t[1]);a<1&&(a=1);Math.abs(e[1]-n)<7?Client.fetchWeatherDataCurrent(o,r,a):Client.fetchWeatherDataWeek(o,r,a)}(r(),a(),l,t.lng,t.lat)})};function r(){let e=document.getElementById("date").value.split("-"),t=e.pop();e.unshift(t);let n=e.pop();return e.unshift(n),e}function a(){let e=document.getElementById("end-date").value.split("-"),t=e.pop();e.unshift(t);let n=e.pop();return e.unshift(n),e}function i(e){console.log(e);let t=e,n=new Date(0);n.setUTCSeconds(t);let o=[];return o=n.toString().split(" ").slice(1,4),o.toString(" ")}function c(e){console.log("change time is getting called",e);let t=[],n=e,o=new Date(0);o.setUTCSeconds(n);let r=o.toString().split(" ");dateTime=r.slice(4,5).toString();let a,i="";for(let e=0;e<dateTime.length;e++)e<5&&t.push(dateTime[e]);return t[1]>=2?(i=" PM",t[1]>2&&(a=parseInt(t.slice(0,2).join("")),a=Math.abs(a-12),t[0]=0,t[1]=a,t.slice(1,4))):i=" AM",t.join("")+i}var l=n(0),s=n.n(l);const u=async(e,t)=>{console.log("update frontend is running",e);const n=document.getElementById("main-container"),o=document.getElementById("form-container"),r=document.createElement("div"),a=document.createElement("p"),i=document.createElement("p"),c=(document.createElement("p"),document.createElement("p")),l=document.createElement("p"),s=document.getElementById("picture");n.appendChild(s),n.removeChild(o),n.appendChild(r),r.id="entry-holder",r.appendChild(a),a.id="trip-length",r.appendChild(c),c.id="snow",r.appendChild(i),r.appendChild(l),i.id="temp",l.id="uv",i.innerHTML=`It is ${e[0].temp+32} degrees today`,l.innerHTML=`It looks like there are ${e[0].weather.description} today`,e[0].snow?c.innerHTML=`There is ${e[0].snow/.039} inches per hour falling. Make sure to dress warm! `:c.innerHTML="Looks like you are going somewhere warm",a.innerHTML=t<=1?`Your trip to ${e[0].city_name} is a day trip`:`Your trip to ${e[0].city_name} is ${t} days long`,a.innerHTML=t<=1?`Your trip to ${e[0].city_name} is a day trip`:`Your trip to ${e[0].city_name} is ${t} days long`,e[0].snow?c.innerHTML=`There is ${e[0].snow/.039} inches per hour falling. Make sure to dress warm! `:c.innerHTML="Looks like you are going somewhere warm";const u=await d(e);s.innerHTML=`<img class="card-img-top" src=${u} />`},d=async e=>e[0].snow>1?await p("snow"):e[0].precip>3?await p("rain"):e[0].clouds>50?await p("clouds"):await p("sun"),p=async(e,t)=>{const n=`https://pixabay.com/api/?key=19614841-f24f6c26e68114f6eb3490d99&q=${e}&image_type=photo`;try{const t=await s()(n);let o=await t.json();console.log(o);let r=[];return o.hits.forEach(t=>{t.tags.replace(/[^0-9a-zA-Z]/g,"").includes(e)&&r.push(t.largeImageURL)}),console.log(typeof r[0]),await r[0]}catch(e){console.log(e)}},f=async(e,t,n)=>{console.log("fetch Weather data current is running");const o=await fetch("http://localhost:8081/weatherbitcurrent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:t,lon:e})});try{const e=await o.json();Client.updateFrontend(e,n)}catch(e){console.log(e)}},h=async(e,t,n)=>{console.log("fetch Weather data cweek is running");const o=await fetch("http://localhost:8081/weatherbitweek",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:t,lon:e})});try{const e=await o.json();Client.updateFrontend(e,n)}catch(e){console.log(e)}},g=async e=>{e.preventDefault()}}]);
//# sourceMappingURL=main.js.map